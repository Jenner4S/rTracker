26 jan 2011
  - moved to macbook pro, though not ssd yet.
  - after refactoring and migrating svn repository, privacy subview working again
  - fixed bug in re-ordering valobjs in a tracker, must check if toRow > array count
  - bug in fn defn, somehow not updating ep ids? ... should add to updateVORefs, recheck also fn setup fix for crash 13/01

02 feb 2011
  - can draw privacy view, tictacview
  - shifted line drawing routine defns to gfx.h
  - added this file to scm
  
--- check in ---


02 mar 2011
  - set, change privacy val all in place, not yet used by tracker display
  
--- check in ---

11 mar -plane to uk-
  - initial export xls working, can open file and write data for each tracker and valobj
  - privacy view restriction implemented for both tracker and value level
  
--- check in ---

21 Mar 2011
  - switch to xcode 4
  - instead of .xls implement .csv
  - moved export button from configTList to useTracker when save not pending
  - minor refactoring to fix 'analyze' issues

22 Mar 2011
  - refactored so access of vo.value triggers [vos update] causing function update, result string set
  - initial csv output working, need to check formatting for input

23 Mar 2011
  - testing, minor bug fixes

24 Mar 2011
  - found bug where fn ep not set to default after load, refactored to make vos' handle clean and set default for optdict
  - optdict defaults now handled in voState objs
  - added voState update(), only active for fn to re-calc .value on read

25 Mar 2011
  - factored out doc, db path creation to (new) rtracker-resource.m
  - option on del tracker to just del data
  - added CSVParser class from Matt Gallagher
  - csv input working -- can't yet save/restore schema
  - default privacy = 1 or can't differentiate priv=0 / not found on load csv
  - TrkrData store min privacy level for date valobjs
  - trying to fix flicker on updatetableview; fixed choice ok, slider broken

26 Mar 2011
  - reverted flicker changes (*check in more often!!*) except for choice 
  - show historical actively would not have enable checkbox on slider, choice; why not? changed

--- check in ---

26 Mar 2011
  - rationalize min/max/big/default privacy values. min for tictac setting is MINPRIV+1

28 Mar 2011
  - flicker fix is to not re-alloc vo displays constantly; fixed messed up slider to get spurious val=0 actions on table reload data
  - changed table reloadData for val changed to just reload fn cells
  - tweak display of slider value for checkbox dis/enable
  - choice value +1 so disabled=0, all selections are positive value
  - voNumber startwithlast picks previous entry by current tracker date, not just last by date
  - start cleaning up NSLog's - need #if debug control

30 Mar 2011
  - tracked down problem in slider to check for useVO on [update], caused wipe of data to set useVO
  + need to clean up either enableVO/disableVO everywhere, or get rid of unused checkbuttonusevo

--- check in ---

  - fixed a memory leak - setVtypes
  + need way to control debug NSLog()s but only option seems to be #if DEBUG wrappers...

31 Mar 2011
  - converted all NSLog to #if DEBUG... controlled 

--- check in ---

09 April 2011
  - error because choice value +1 => not voDisplay'd correctly : added getSegmentIndexForValue routine
  --> bug appearance was all subviews buggered after segmentedControl set to invalid index
  - further complexity: UIControlEventValueCHanged gen'd when val set, not just when user activates -- but slider not this way!
  - privacy cancel from setpass triggered toptf resignfirstresponder, same as setp -> set pass to ""; fixed by rewrite setp, cancelp
  - assuming not null autoscale (= not default) meant errors in graph scale - fixed -- TODO: search for more of these

10 April 2011
  - fixed problem shrinking choice buttons, width was reset when style set.  TODO: seg control needs to be centered in subview in this case

--- check in ---

13 April 2011
  - fixed crash on delete new vo in new tracker - tdb=null
  - fixed bug where kybd notification listen turned on/off in configtvobjvc viewDid(Un)load -- switched to viewWill(Dis)Appear -- so was handling in 2 places
  - moved keyboardIsShown to rtracker-resource so just 1

--- check in ---

13 April 2011
  - fixed bug not clearing text field for number entry if val == @""

14 April 2011
  - fixed bug fnCalcValueFromCurrent post-inc ndx on read, inc again if process token for value so missed + in 's + s2'

--- check in ---

27 April 2011
  - (previous) comments, work out pre/post/sum workings
  - fix problem deleting vo from tracker that had no data stored (e.g. function)
  - add code to not load csv data for calculated function value

29 April 2011
  - working on shifting transformVO's into voState's from graphTrackerV, then get voFunction to set its values[]

04 May 2011
  - changed saveData so always save fn values
  - added setFnVals to voFunc to set all ; need some 'dirty' test to improve efficiency
  - fixed bug using ngmin/ngmax not gmin/gmax to display graph min/max in configvo  ??

05 May 2011
  - configTVO: tfDone sets activeField=nil, if not nil when tf_finishEditing then [tfDone:activeField] (fix tap next field not saving changed val)
  - voNumber: typo in setOptDictDflts, was setting nswll not nswl
  - voState: typo in (super) setOptDictDflts, was setting autoscale=dflt if graph==nil (fix autoscale not being saved, was actually set dflt after load)
  - voState:transformVO_num - fixed bug reading autostate, again assumed @"0" would test correctly as !autoscale
  - voChoice:segmentedControl - same test error on shrinkb
  - voTextBox:segmentChanged,voGraphSet - same test error on tbhi,tbni,tbnl
  - voTextBox:segmentChanged - release picker view so gets rebuilt (fix bugs on people, history pickers incl crash on switch)
  - added graphTrackerV:doDrawGraph controlling [drawRect] action, so graph not redrawn for return to utc
  - changed trackerObj so fn results (=value) *are* saved,loaded to speed graphing, but issues remain for updating, saving in db

--- check in ---

06 May 2011
  - added CGRects to divide up graph screen

10 May 2011
  - replaced dbg-defs defines with args... forms

13 May 2011
  - finished re-org of graphing to use UIScrollView for zoom etc, separate windows for title, axes.  still need work for axis labels

--- check in ---

18 May 2011
  - finished axis labels
  - tap on y axis label to change vo displayed
  - tap on graph to mark and set tracker date, double tap to clear
  - return to graph with current date marked 
  - factored dpRslt out of datePickerVC to facilitate this

--- check in ---

18 May 2011
  - changed tf fin edit to not call tfDone -- incompatible with vot_choice ????  what was it needed for ????
  - fixed graphing for vot_choice colors, implemented y axis labels for vot_choice

19 May 2011
  - added currVO to gtv class; double line widths for selected vo
  - tbox linecount set maxVal to at least YTICKS to get int vals on y axis labels
  - clean y axis for non-numeric entries

20 May 2011
  - added processingTfDone flag for voChoices and configTVObjVC so tfDone/ctfDone (see 18 may, 05 may) can process multiple events without recursing inadvertently

25 May 2011
  - starting history, names picker indices; default on for names

27 May 2011
  - finished history, names picker indices.

--- check in ---

08 June 2011
  - modified name picker & ndx to use ABRecordCopyCompositeName if ABRecordCopyValue(sortProp) gets nil result - e.g. sortProp=firstname and record is company

03 August 2011
  - added icon.png
  - fixed private/dismiss label on rootview privacy button label not returned to private on cancel from create pass
  - limit privacy setting for val or tracker to current privacy level: trkrs/valobjs don't disappear, easier than disable priv setting when no password
  --- seems basically done?

--- check in ---

08 August 2011
  - change colors to gray for privacy stuff; still want some curves
  - somehow set privacy for blank tt... privacy set to 0 on start priv then quit...

14 September 2011
  - [setPrivacyValue:tictacvalue] scaled to +MINPRIV to solve problem above
  - made < and > shift through tictacvalues take to min, max set value if before or after min,max

02 October 2011
  - renamed rTracker-Info.plist to Info.plist
  - several check-ins attempting to fix issues of renamed files
  - changed 'private' button to lock image
  - reload toolbar on refresh to change lock/unlock image

--- check in ---

04 October 2011
  - curved up privacy/password view, buttons, etc.
  - replaced checkbox png's with own created images
  - replaced 'setup' buttons with iOS 'i' button

13 October 2011
  - create, add Default.png initial screen image

24 October 2011
  - delete _in.csv iput file
  - trackerobj loadData check for nil [enumerator next] instead of intval=0 -- spurious 0 data from csv load ?

25 October 2011
  - remove Image from rt-types.plist, valueObj.h - not able to test yet; various VOT_IMAGE comment-out points
  - set DBACCESS false so can't see sqlite db files from itunes

06 December 2011
  - DbgNAssert to replace NAssert
  - submit to Apple; 10 Dec accepted   version 1.0.0

11 December 2011
  - fix DbgNAssert so doesn't log message every time, just when first arg is 0
  - save valid tracker when create tracker -> save while keyboard still up (skip done) [thanks Pat]
  - hide privacy view, password view so not at bottom when scroll up long list of trackers -- still need to hook to superview not scroll
  - submit to apple v 1.0.1

17 December 2011
  - move to xcode 4.2, ios sdk 5.0
  - fix various warnings from migration
  - fix error not retain on deleteindexpath for deleting tracker
  - big problem on rotation, this version works for ios < 5.0
--- check in ---

17 December 2011
  - hacked a version that works for both pre and post 5.0
  - validated for release as 1.0.2
  --> next step remove changelog from archive
  
27 December 2011
  - bugfix crash on calendar access
  - 'value' -> 'item'; 'add another thing' on add/edit tracker page
  - 'new tracker' and 'edit trackers' button labels
  - don't allow save from add value without a name
  - date picker buttons: new entry / set date / goto date
  - fix Icon.png svn issue
--- check in ---
  - change privacy icon from lock to sunglasses
  - bugfix: datepicker buttons not acutally working
  - graph: touch line snap to nearest data point
  - set default Y axis width for d(99) (y axis labels wrong for textbox)
  - fix scrollview error for textbox
  - reset privacy password state on app to background
  - update toolbar privacy icon on know password
  - capitalization fixes
  - addValObj down keyboard on picker select (Pat fix)

29 December 2011
  - failed attempts to fix so scrolling works with privacy controls up
  - archive and submit 1.0.3
--- check in ---

30 December 2011
  - fix scroll/privacy issue by disable scrolling, other buttons, table select
  - change button to blue when priv up, to highlight it is only option
    besides 'help'
  - fix spurious 'password changed' message when 1st pass password check

09 January 2012
  - added dictFromVO/TO, initWithDict for vo and to; compiles, no testing or use

10 January 2012
  - fixed crash from spurious keyboardwillshow message - textbox observer not removed, 
    fix was to simply remove all observers for that self. Extended to all removeobservers,
    no longer specify which one being removed just remove all.
  - write tracker plist appears to work

11 January 2012
 - put name: back into removeObserver calls, ensured all object:'s set to nil;
 - initial testing goes through, can load tracker plist & corresponding csv file
--- check in ---
 
12 January 2012
 - modified vos:update() for number and text so textfield value saved if don't done keyboard
 
15 January 2012
 - initial code to display "<owner>'s tracks" as main title 

17 January 2012
 - moved help and privacy icons to right so not first thing picked
 - start on controlling width of owner's name in title, 'rTracker' if too long

18 January 2012
 - finish handling owner's name
 - update Default.png
 - fix bug from vos:update on empty vos-num field -- dtf.text not init to @"" but was for vos-text
 - fix bug in priv button staying blue after cancel from create pass -- moved refreshTooBar to end of priv:setShowing instead of beginning

--- check in ---

19 January 2012
 - change setMaxWidth to rescanMaxWidth, put in loadconfig for fix - but turns out is xcode 4.2 bug with 4.2 devices.  used hack.
 - made checkbox frames slightly bigger in configVT 

20 January 2012
 - add minUniquev to tObjBase, use for dictionary loads to avoid dup values
 - set minValue to 0 for autoscale
 - added shake in graph view to recalculate function values.
 - added activity indicator while recalculating 

21 January 2012
 - initial add time funcs : elapsed hours/days/weeks 
   - initial tests work for hrs

22 January 2012
 - prep for 1.0.4

--- check in ---

 - resign first responder from graph on graph disappears, else text boxes stop working
 - update problem for next date -> current, not wiping values; added vos.resetData to handle
 - submitted to app store

27 January 2012
 - 1.0.4 in review

28 January 2012
 - 1.04 approved and in app store

05 February 2012
 - changed debug messages to show func and line no
 - commented all DBG messages which might slow display of privacy stuff
 - crash on 4.3 when 'done' out of set password with no text
   - moved 'activeField' to ppwV object instead of class global
   - various release's added in attempt to placate static analyzer
   - turned out to be keyboard bug in simulator
 - commented ttv tap response dbg messages which slow tap id - make unable to tap all cells
 - fixed privacy disappearing on delete records -- had not implemented topLevelPriv completely
 
06 february 2012
 - added retain / uncommented release in dealloc for bool and tbButton vos to stop crash on scroll tracker

07 february 2012
 - made so vo/vos resetData did not unintentionally instantiate dtf if
   not already defined - caused empty number / text fields for historical data
 - fixed static analyzer complaints by alloc to local var, copy to self.var, release local var

08 february 2012
 - fixed memory leak in setVType / setVos -- voNumber did not call [super dealloc], voText did not even have dealloc
 
--- commit ---

12 february 2012
 - fixed keyboard bad state when enter/leave graph on 4.3 ios
 - moved export fn to trackerObj from useTrackerController
 - added 'Export all' button on edit page
 - moved loadInputFiles to refreshView so called after set priv level
 - implemented thread start for activity indicator tasks so spinner works
 - -- problem with refresh front screen on file load

13 february 2012
 - reloadData on rvc tableview after file load works for refresh 

17 february 2012
 - confirmTopLayoutEntry fix default privacy value to 1 instead of 0 from failed valueForKey:
 - reorderFromTLT, reloadFromTLT use nrank+1 so db rank always > 0
 - reorderTLT - crash bug due to copy-paste error: topLayoutPriv field not inserted

--- commit ---

17 februrary cont
 - add tracker plists for Attitude, Car, Exercise, Sleep, Weight\ stats, Menus\ \&\ Guests

18 feburary 2012
 - disable userinteraction, navbar btns when loading and exporting files

19 february
 - add preferences bundle for reload sample trackers and reset password
 - working on privacy view still!

21 february
 - FINALLY solved problem of privacy / password views all over;
 problem was race condition between init privacyV and completion of
 parent UITableViewController layout.  Solution was to delay
 instantiation of privacy view until needed, then parent frame not
 changing before frame actually comes up.

--- commit ---

22 february
 - finished implementation of reset password pref
 - located sample tracker files, next step loading ...

23 february
 - fixed ? multiple entry on refreshView() due to skipped name
 duplicate _in.plist; used flag for lock, nonatomic, race vulnerable
 but seems like lots of time to spare -- perhaps delete skipped
 _in.plist ?

25 february
 - implemented atomic test-and-set flags to control refresh and
 recalculateFns thread routines so not re-entered while running
 - made circle primitive move back to center so dotsLines should look
 better
 - load sample plists according to prefs
 - de-conflict sample plists against topLayoutTable
 - fix rvc:scrollState to allow scroll if privacyObj not yet
 instantiated
 - set ppwV to hidden in hide() as otherwise comes up on scroll

--- commit ---

26 february
 - change warning to log for 'no data for date' message
 - disable 'should autorotate' while shakeLock on so can't leave until
 done
 - call setTOGD after recalculate fns to recreate graph (shake to redo
 graph)
 - fixed failure to set slider init val to 0.95 by using [setValue]
 instead of .value=
 - removed set autoscale to start from 0; TODO: option
 - gtYAxV only print yAx val once if unchanged; TODO: to be closest to
 accurate tick
 - fixed timeFns to work like numbers, e.g. can use +-/*() 

27 february
 - added toSqlStr and fromSqlStr calls throughout to enable 's in strs
 ... but not working

28 february
 - found escape seq : '' for '
 - stuck getting default values in for prefs -- maybe not
 appdidfinishlaunching but handleprefs instead

29 february
 - added flag for initial prefs load, now sample trackers added once.

01 March
 - added updateTrackerTableView() and updateToolBar() for utc/dpa_new
 (datepicker create new entry), that seems to work now

02 March 
 - work on sample trackers - attitude-> self (earlier notes); tweak car
 - move colorset to rtracker-resource save mem for all trackers)
 - enable add/edit tracker shows voType-graphType-colour
 - fixed 'del' on fn defn caused crash when removed more than present
 - add display 'no graph' for add/edit tracker as appropriate

03 March
 - graphs autoscale min or max if not set to value
 - add addToTopLayoutTable(tObj) to fix problem of initial rank for loaded trackers
 - eliminated other trackerObjs notified when value changed (was notifying all)
 - added zero line for graphs which span y=0
 - fixed multiple sample trackers being added on restart (possibly only issue for simulator restarts)
 - fixed error on deconflict samples, needed to set to:optdict:name to trackername
 - copy new versions of trackers into rtracker dir, change tids to
 consecutive numbers.

--- commit ---

04 march 2012
 - hours tracking down vcolor for choice =-1 so broke detail display
 in edit table above
 - added vo.validate(), probably not needed as there were no
 problems...
 - fixed problem with textbox save not updating tracker due to not
 notifying all trackers after change above (voTextbox needs to know
 parentUTC)
 - consolidate activityIndicators to rtracker-resource, saving LOC
 - add activityIndicator to tracker export

05 March 2012
 - changed csv record load to be more efficient, think working ok!
 - moved refreshviewPart2 to occur if plist load found nothing, to
 handle private csv file waiting for load.

06 March 2002
 - changed activity indicators to progress bars

07 March 2002

--- commit ---

08 March 2012
 - updated sleep tracker to not graph quality
 - added stashProgressBarMax and bumpProgressBar, plus code to csv load 
   so progress bar shows while reading csv file

09 March 2012
 - skip graphing numbers=='' by modifying sql select
 - trackerObj receiveRecord (csv load) sets date, so can tell if
 failed timestamp read and therefore not delete input file
 - xcode 4.3.1, so tested on ios 5.1
 - fix NSScanner with nil argument when drawing graph (check for nil)
 - fix getMinMax for graph detecting '' as 0, so autoscale works with
 '' data

--- commit ---

10 March 2012
 - changed back to install samples directly instead of just copy
 plists in as need this to avoid name, tid conflicts.  changed so
 implemented in loadPlists, add count of samples so progressBar works
 - ios5 won't tolerate display change outside main thread: fix so
 finishProgressBar uses performSelectorOnMainThread
 - added (only on privObj == noshow) to refreshView on priv button
 press, as was messing up when new password needed
 - changed tictacV updateTT to always draw all cells, under 5.1
 otherwise some cells disappear on taps.
 - changed closed tdb already closed to log instead of warning
 - changed voTextBox historyArray to correctly break lines and present
 correct historical set

11 march 2012
 - started make choice csv imp/exp work with text vals, create new as
 needed

12 march 2012
 - continue on csv load choice by text string not value

13 march 2012
 - completed choice as text string to/from csv
   - save and load appropriate text strings
   - create new optDict entries on load if string not matched
   - correctly insert new val into intervening blank space in dict if
   avail
 - fix dot appearing on graph for text='' 
 - fixed background not clear on utc
   -- but bad table cell labels on return from graph with selected date.

14 march 2012
 - fixed problem with cell labels needing redraw by adding additional
 [updatetrackertableview]s in viewWillAppear (to set controls
 correctly so next not noticed) and viewDidAppear (to update labels)
 - utc now disappears in ios5 if app regains active and tracker is
 private
 - clear privacy setting on open/close privacy view in < 0.6 sec

19 march 2012
 - make more space around privacy button
 - fix finishProgressBar not working for <5.0 - don't use performSelectorOnMainThread
 - update Default png views

20 march 2012
 - disallow setting tracker/value privacy to < privdflt

24 march 2012
 - rectify various issues around 'null'/"" choice entries save to /
 read from csv files after change above for choice val as text in csv

--- commit ---

 - trim \n or \r from textbox data when writing csv file

25 march 2012
 - change message for fn config page to 'not configured yet' instead
 of 'vid 0 not found' (source was tracker voGetNameForVID)
 - loadFnArray skip if db entry is "" (was inserting 0 causing problem above)
 - disallow fn to choose self for vo to compute on
 - fix set choice vcolor to not -1 in btnSave for addValObjcontroller
 - submit as 1.0.5

--- commit ---

01 April 2012
 - (late evening Sunday) in review ... ready for sale.

05 June 2012
 - more code around detect owner name so no Rob's's tracks

--- commit ---

10 June 2012
 - fix crash due to missing retain/release on NSIndexPath for deleting
 value within a tracker
 - no 's tracks if owners' name ends in '

--- commit ---

12 June 2012
 - change 'use last value' colours from red on gray to yellow on
 darkGray to improve visibility
 - change 'edit values' button to 'edit items'
 - added rtdb_version value in tracker list info table, start value is
 '1'
 - more robustness work around apostrophes in owners' name

--- commit for submit v 1.0.6 ---

16 june 2012
 - working on constant in function
 - changed 'delta' to 'change_in'

17 june 2012
 - fn constant, text field and label appear/hide on pick 'constant';
 scroll on keyboard appear not sufficient

20 june 2012
 - fix keyboard scroll to not include toolbar height so toolbar not
 shown
 - crash if change value type then cancel out .. actually bug is
 change value type, go into config for that type, done, cancel -- val
 type has been changed

21 june 2012 
 - added tmp(Vtype,Vcolor,VGraphType) to private addValObjController
 interface, plus stashVals() and retrieveVals methods to better
 support cancel out
 - back to constant, need work on logic because fn1arg expecting arg
 but inline const already there... also need to go back to calcFnVal
 because of change to bound constant on both sides by token -- needed
 to make deleting const robust

22 june 2012
 - problem was not logic but had 'constant' in wrong place in picker
 list
 - add btn downs keyboard
 - updateFnTitles hides constant tf after wiping array
 -> constant initial implementation seems to work.

--- commit ---

04 july 2012
 - constant code messes up previous fns; re-work so symbol defines
 don't change; probably need to do a version change on fns so can add
 more 1-arg, 2-arg etc. operators one day?
 - float constants not staying, get truncated - change load string
 from db was getting values as ints, now double

05 july 2012
  - mileage fn calc not respecting 'tank full', add "and val <> 0 and
  val <> ''" to selection of start date endpoint

07 july 2012
  - added rtfn_version symbol to support later changing available
  functions
  - db_ver, n_ver, cfbundle_ver and a build counter now read at load
  - db, fn, cfbundle, build count all stored for each tracker on
  create or save if not present already.
  - test on iOS 6.0 / xCode 4.5b2
  - allow calc fn if ep0=0 (first entry) and ep0 is entry or nil

--- commit ---

08 july 2012
  - if needed, version info written to tracker db immediately on load
  - restructure so sampleTrackers is real subdir, not copied
  - change colour back on number field for 'init from last' for iOS < 5
  - ready for version 1.0.7

--- commit --- many times to fix sampleTrackers changes ---

08 july 2012
  - change to using CFBundleVersion for build counter, not own entry
  in Info.plist
  - submitted as 1.0.7
  
--- commit ---

11 sept 2012
  - csv reader will now accept 'date only' timestamps, sets time to
  00:00:00

... nice if it would scroll to top for scroll bars as not visible and
freezes...

20 oct 2012
   - fixes for iphone 5
     - new default screen image
     - group table background color deprecated (fixed in xib)
     - fix 'Application windows are expected to have a root view controller at the end of application launch' with setRootViewController: in rTrackerAppDelegate.m

     - above helped with detecting rotation but not there yet...

03 nov 2012
   - removed code to check version >= 5 on 'will rotate', graph shows now
   - some race condition (?) on presenting graph vc, changed viewDidAppear() to call super before becomeFirstResponder...  nope.... Ah! depends on rotate left or right..

   -- unable to set background color on gtXAxV, gtYAxV, gtVONameV (gtVoNameV not used?)
   - remove punctuation chars from end of date string for x axis label, us region setting

04 nov 2012
   todo for ios6 -- see release notes esp uikit
     - re-work rotation code ?
     - check auth to access addressbook and handle better
     -view(did|will)unload now deprecated
     - ensure setting rootviewcontroller where was addSubview'ing
     -- problem with pushing vodataedit viewcontroller / nav controller
     -> pushnavigationitem instead?

06 nov 2012
   - vodataedit problem was with xib file, see 
     		http://stackoverflow.com/questions/12434937

07 nov 2012
   - replaced ios6 deprecated uiviewcontroller calls, suspect need to re-enable if ios5
   - still no solution for left/rigt rotation differences

20 nov 2012
   - finally solved left/right landscape issue, was 'full screen at start' flag in MainWindow.xib -- found because looking for issue with bottom buttons not working.
   - changed behaviour so rotating upside down and on to landscape does not return to normal view
   - put ios 5 checks back in so works on ios5 devices.  4.2 no longer supported, need to test for 4.3

21 nov 2012
   - removed graphTracker.xib
   - commit because think most things working for ios6 except drawing graphs
 
--- commit ---

++ working on graph not drawing problem
   - problem is change in rotation calls -- old ones not being called, so doDrawGraph flag not gettting set.
   + still problem with graph geometry on 6.0

23 nov 2012
   - solved graph geometry problem by removing ios5 hack to modify bounds

26 nov 2012
   - working on .rtrk file support:
   -- created method tlist:updateTID(old,new) which moves existing tracker with tid=new out of way and updates existing tracker with tid=old to be tid=new
   -- changed tlist:fixDictTID to use this instead of modify dict
   -- working on loadTrackerPlistFiles to update existing tracker on load plist with existing name
   TODO: ?  change filemanager usage to use defaultFileManager see
http://mobiledevelopertips.com/data-file-management/iphone-file-system-creating-renaming-and-deleting-files.html

27 nov 2012
   - implemented voUpdateVID(old, new) and most of trackerObj:confirmDict
   -- need to handle optDict

29 nov 2012
   - think finished for processing input plists including optdict
   -- next is receiving .rtrk files

09 dec 2012
   - added doc for rvc:loadTrackerDict
   - loadInputFiles look for .rtrk and add to csv and plist sets
   - modified rvc:loadTrackerPlistFiles to list input files, rename to _reading, load TOdicts as seen
   -- still working, need to rm _reading files or hand off to csv load for data
   -- rvc:refreshView() will check for _reading files, offer to delete or try again

14 dec 2012
   - implemented trackerObj:loadDataDict -- think that is it, now to debug...

18 dec 2012
   - successful load of csv data and plists as before
   - finished update of dev certs provision etc can run on iphone, hoepfully can submit
   - implemented specify values for choices

19 dec 2012
   - minor tweaks to choices, ignore if empty field

23 dec 2012 (24 dec computer time)
   - set empty field for choice value removes that key
   - write _out.rtrk file on tracker export, ignore when reading -- debug
   - lots of debugging choice changes
   - completed initial loadFromFileURL !

todo: if change vid, must change in fn!

--- commit ---

24 dec 2012
   - openTracker for url opened
   - implemented updateVIDinFns()
   - added calendar day/week/month/year endpoints in response to user request

27 dec 2012
   - attempting to disallow selecting self as fn endpoint when editing existing function, getting 'unrecognized selector sent' error on creating picker

28 dec 2012 (clock says 29 dec)
   - debugged errors on disallow selecting self as fn endpoint, root cause was not recognising NSArray +arrayWithArray puts in autorelease pool instead of alloc

--- commit ----

07 jan 2013 / 08 jan on clock, crossed dateline from hawaii
   - enlarged field for 'cal xxxx' in drawFuncOptsRange
   - fixed crash (due to ios6 keeping views ?) when return to fn range view
   - implemented graph last only for cal fn range ep units
   - implemented dirtyFns bool for tracker - dirty on fn save, clear from db on recalc
   - implemented copy for valueObj

--- commit ---

15 jan 2013
   - fixed problem of multiple open of .rtrk from url, apparently due to no permission to rename file in Documents/Inbox
   -- new problem is display stack if open .rtrk url, open again without returning to list.


16 jan 2013
   - fixed display stack for loading rtrk with popToRootViewControllerAnimated
   - clean up old TODO: comments

06 feb 2013
   - added graphMaxDays limit tracker option for Pat
   -- now select graph points betweekn 2 dates
   - added apparently necessary (int) cast on tracker date for trackerObj saveData()

07 feb 2013
   - started on making dots more visible if only 1 or 2 data points 
   -- draw bigger but some issue with initial bounding box

09 feb 2013
   - graph x-axis = 24h if only 1 data point
   - make function defn view 4 lines instead of 2 - is scrollable but can't tell
   - scroll to top for progress bars on file loading
   - copy button bigger but can only grey, can't make disappear

12 feb 2013
   - add 2% to graph x&y axes to inprove vilibility of endpoints


13 feb 2013
   - filesToProcess leaked in loadTrackerPlistFiles ?  added release
   - added alert handling for failed rtrkr read
   - review/clean breakpoints

14 feb 2013
   - tested 'delete' and 'try again' for finding rtrk_reading file

19 feb 2013
   - fixed bug empty tracker -> fn = sum of 2 -> show graph => voData for fn created with date=0
   - fixed bug def fn constant position bad now

20 feb 2013
   - added few releases as suggested by analyze - test esp graph per cal unit
   - #if removed genRtrk due to warnings on potential leaks 

--- commit ---

21 feb 2013
   - problem : calculate miles/month gets start dates that don't exist so delta doesn't work.
 + need to get prev val or next val from date, but is it for all epd0 or just on delta?

13 mar 2013
   - tested / passed no memory leaks loading .rtrk from web page
   - for problem above, get prev date value or skip for beginning - tested ok
   - no graph y scale expand (min, max) if specified (min, max)
  
14 mar 2013
   - ready for 1.0.8 release

--- commit ---

07 apr 2013
   - fixed bug in y axis title for choices introduced with changing graph edges
   - fixed problem with choice colour in yaxis, same cause as above
   - fixed  problem displaying prev choices for no default value, nothing to match against in optdict
   - fixed problem displaying choice graph points in wrong colours
   - changed vtEnable checkbox to constant 30x30
   - make graphMaxDays input field wider 
   - ready for 1.0.9 release (bugfix)

--- commit ---

09 apr 2013
   - remove release of rtrk obj as think not needed and apparently caused crash (trackerObj.m:export - rtrk_export section
   - re-enable export rtrk, now to outbox dir
   + after export rtrk, not getting odometer reloaded
   + sadly cannot get to outbox in iTunes, but can save entire dir

26 may 2013
   - fix confirmTOdict() typo so wasn't loading valObjTable - affects both rtrk load and plist load
   - comment out various noisy dbglog calls
   - add kViewTag after voDisplay() return, so -all- cells get tag : solved problem of dity cells in tableview after scroll
   - solved problem of always scrolling to top on main list - was just for me, part of EXPORT_RTRK

--- commit ---

   - few more DBGLog()s removed, fix debugFunction messages
   - lockdown does not set state to pvquery if state is pwneedprivok
   - submitted as 1.0.10

--- commit ---

02 jul 2013
   - change to DateTime picker with preference option 

03 jul 2013
   - change useTracker 'export' button to menu button, initial actionSheet implementation

06 jul 2013
   - implement actionsheet methods - email csv, tracker, tracker+data

07 jul 2013
   - resignFirstResponder on textfield for add value on exit, was possible to leave with keyboard still up
   - to/from sqlStr around trackerName save/load so can have tracker names with apostrophes

10 jul 2013
   - fixed bug in genRtrk : tid saved as 'toid' key not 'tid' key
TODO: regen all .rtrks on website
    - fixed loadTrackerDict to correctly go through all trackers with same name
    - implemented 'accept' for supplied tracker - old tracker stashed and recovered or discarded as appropriate ; not tested yet

11 jul 2013
    + added more TODOs around rtrk valObj import!

12/13/14 Jul 2013
    - reworked confirmTOdict, think have all rtrk load implemented now except for sort valueObjs to match input after merge
--- commit ---

15 jul 2013
   - added sort valueObjs to match input rtrk

16 jul 2013
   - debugging input rtrk

17 jul 2013
   - added wipeOrphans button in place of 'export all' if RELEASE=0 - wipe both files without toplevel entries and toplevel entries without files

19 jul 2013
   - implemented getter/setter for trackerName, maxLabel

20 jul 2013
   - implemented getter/setter for prevTID
   - input rtrk - reject of completely new seems to work; fail on reject new version of existing

21 jul 2013
   -?

25 jul 2013  [travel to US]
   - seems to work for variations of accept/reject with existing tracker, merges changes.
   - implemented default email
   - checked through todos
   - removed file manager alloc/init/release's, replaced with defaultManager
   - fixed copy tracker to copy valObj optDicts as well
   - make confirmTOdict rescan vid-vo dictionary on changing vid
   - make confirmTOdict search by name if doesn't find anything for vid - was just if vid does not match
   - delete input trkr db on reject (solve orphan problem?)
   - make wipeOrphans delete stash_trlrs
   - delete db data from voConfig, voInfo in saveConfig in case input rtrk has changed some vids
   - added goGraph bool to useTrackerController so do not reject input tracker & delete db when go to graph
   - improved replacement of vids in fnStr -- need to break into component parts
   - made voUpdateVID write to database as well -- data was lost
   - confirmed working if bringing in fn with same name as data, should move data to _data

--- commit ---

26 jul 2013
   - reject action happens on resign active, so attempting to reload multiple rtrks not a problem 

27 jul 2013
   - added jumpMaxPriv, restorePriv in rootViewController so privacy is non-issue when loading rtrks
**   + toplevel privacy not set to match loaded rtrk -- ** document that need to edit & tap 'save' button to set this -- private stays private even if loaded someone elses

--- commit ---

29 jul 2013
   - added sort to match incoming rtrk
   - added create eVO for case of diff vid, voName match, old is data, new is fn ... was commented out, tested
   - added noFileLoad flag to stop main thread from loading files while progressBar'd thread is running -- caused privacy bug until realised need to clear refreshLock when skipping load due to this flag
   - enabled progressBar for loading rtrk from url -- wanted activity indicator but could not get displayed; bar updates for each valobj in config, then each date in data

30 jul 2013
   - added wipeOrphans to rootViewController viewDidLoad
   - added vos:update now returns "" if vo is disabled -- corrects fn recalc when disable/enable slider or choice
   - change valObj init to useVO=YES, voChoice and voSlider init overloads to set to NO 
   - add alert if accepting tracker with tracker priv or valObj priv >PRIVDFLT
   - add stashedPrivLock to stop race if tracker shown when rtrk import starts (jumpMaxPriv(), but other thread closes shown tracker which calls restorePriv() -- stashedPrivLock on until end of openTracker)

31 jul 2013
   - change noFileLoad, stashedPrivLock to openUrlLock
   - refactor openUrl so openUrlLock always goes off
   - refactor loadInputFiles so refreshViewPart2 called if openUrlLock is on

01 aug 2013
   - move genrtrk into writeRtrk in attempt to quell analyse complaints; failed, but at least got alloc/release warnings together
   - fix memory leak on create/destroy rtrk
   - ready to submit as 1.1.0

--- commit ---

02 aug 2013
   - problem with useVO initialisation for normal use, reject binary at app store
   - add privacy warning alert if modify a rejectable tracker and save
   - re-submit as 1.1.0

--- commit ---

06 aug 2013
   - initial implementation notifyReminderViewController
   - oops, extraneous graph limit: label; removed
   - replace wipeOrphans with recoverOrphans
   - submit as 1.1.1

--- commit ---

09 aug 2013
   - 1.1.1 on sale now
   - created recoverValues routine, but was mistake - better to simply load a saved plist
   - moved simple 'ok' UIAlerts to rTracker_resource:alert
   
   + see TODO - leave a stash file when loading plist

26 aug 2013
   - working on notifyReminderView
   - build for ios7

27 aug 2013
   - set cell color for tables - root and utc - to clearColor
   - remove spiral from notebook page -- remove '   ' before tracker label
   - functionality seems to be there for ios7?

28 aug 2013
   - icons for retina
   - added test for ios7 to color bars in rootViewController for pre-ios7
   - implemented min, max, count functions

02 sept 2013 
   - add alternate ios7 xib for addValObj
   - add section header spec for edit tracker - ios 7

03 sept 2013
   - add  alternate ios7 xib for configTList
   - working on glasses graphic for ios 7

04 sept 2013
   - re-worked glasses icons for ios7
   - made top and bottom bars show graph paper background image but would really like bottom bar to really be translucent ... enough for image now though.

05 sept 2013
   - launch images done for all versions
   - several .xib files set to open in 4.6 for compiles

10 sept 2013
   - ios7 gm build xcode
   - fix avg divisor to not count null value entries 
   - add graph paper background image on most screens some table cells still need (?)

11 sept 2013
   - privacy view background set to graph paper
   - changed size params for password requester
   - started on preferred font but actually think better with selected pt sizes
   - fix enable cell if choice value = 0 but selected
   -- binary submit & reject
   - fix 'edit' btn has no view so don't set "owner's tracks" title
   - count/min/max fns f'd up previous function defns!!!

12 sept 2013
   - working on fn token re-work, not there yet.  result will be having more function_id space to add easily in future

15 sept 2013
   - fn token re-work appears to be done, testing.
   - handle exceptions on restoreTracker if trackerName is nil - may have only reached this config due to testing but safer now
   - fix readCSV to escape apostrophes in voName
   - fix updateVIDinFns() bug - 'func without final apostrophe
   - condense sql errors to subroutine
   - breakpoints on all DBGErr messages
   - fix loadDataDict needed toSqlStr ; also csvReceiveRecord, setFnVal (prob only numeric but safer)
   - move to.from sqlStr to rTracker_resource
   - fromSqlStr when testing priv password
   - clean up load input files - jumpPriv/restorePriv around plist, rtrk, csv loads; plist load dumps stashed tracker

--- commit ---
    - submit as 1.1.2

18 sept 2013
   - back to notifyReminderVC

19 sept 2013
   -bit further on ui - week/month/every

26 sept 2013
   - got keyboard bits working from interfaceBuilder, still need to implement scroll up for keyboard

06 oct 2013
   - fix text field did not scroll up from keyboard as needed under ios7

08 oct 2013
   - move keyboard will show / will hide to rTracker resource
   - more on notification ui - keyboards working in textfields, hightlight some buttons

09 oct 2013
   - fixed notification view for 3.5 and 4 inc devices
   - textfields working with keyboard
   - all hide/unhide appropriately (? does at/until make sense for 'every hours/days' ?)
   - still need slider response in at/until textfields, fix checkboxes

10 oct 2013
   - fixed checkboxes

   + need to hide sliders etc - need outlets to ref - for 'every'
   + need to link sliders to hrs/mins

15 oct 2013
   - start on slider -> hr, min textfields

17 oct 2013
   - mostly finished gui
   -- still need decisions on how 'every' works, hiding start/finish times
   - start data structure for notification

22 oct 2013
   - implemented display rules for everyBtn
   - think gui finished

07 nov 2013
   - starting to implement notifyReminder class
   - textboxes disappeared from configTOopts - not in 1.1.2 release, only tested in simulator

--- commit ---


++ 


+ add -[n] entries thing
+ add entry_count as a fn piece -- count of entries over range, so avg could be sum()/entry_count

+ make graph bars brighter / less opaque when selected ?
+ add track it all to with various functions to default trackers



